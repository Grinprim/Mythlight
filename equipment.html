<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mythlight RPG | Equipment & Crafting</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@300;400;600&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background: #0f172a;
            color: #cbd5e1;
        }

        h1, h2, h3 {
            font-family: 'Cinzel', serif;
        }

        .table-wrap {
            overflow-x: auto;
        }

        th {
            font-size: .7rem;
            letter-spacing: .15em;
            text-transform: uppercase;
        }

        .card {
            background: rgba(30, 41, 59, .5);
            border: 1px solid rgba(255, 255, 255, .08);
            border-radius: 1rem;
        }

        summary {
            list-style: none;
        }

        summary::-webkit-details-marker {
            display: none;
        }
    </style>
</head>

<body class="pb-32">

<main class="max-w-7xl mx-auto px-6 pt-28 space-y-24">

<!-- ================= EQUIPMENT ================= -->

<section>
    <h1 class="text-5xl text-white mb-6">Equipment</h1>
    <p class="max-w-3xl text-slate-400">
        Weapons, armor, and gear define how you survive Mythlightâ€™s world.
    </p>
</section>

<section>
    <h2 class="text-3xl text-white mb-6">Damage Types</h2>
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div class="card p-5"><b>Puncture</b><br>Precise strikes.</div>
        <div class="card p-5"><b>Slash</b><br>Bleeding attacks.</div>
        <div class="card p-5"><b>Blunt</b><br>Armor-crushing force.</div>
        <div class="card p-5"><b>Cleave</b><br>Wide sweeping blows.</div>
        <div class="card p-5"><b>Blast</b><br>Area impact.</div>
    </div>
</section>

<!-- ================= WEAPONS ================= -->

<section class="space-y-10">

<!-- MELEE -->
<details open class="card p-5">
<summary class="text-3xl text-white cursor-pointer">Light Melee Weapons</summary>
<div class="table-wrap mt-4">
<table class="w-full text-sm">
<thead><tr>
<th>Weapon</th><th>Damage</th><th>Reach</th><th>Tags</th><th>Notes</th>
</tr></thead>
<tbody id="m1"></tbody>
</table>
</div>
</details>

<details class="card p-5">
<summary class="text-3xl text-white cursor-pointer">Medium Melee Weapons</summary>
<div class="table-wrap mt-4">
<table class="w-full text-sm">
<thead><tr>
<th>Weapon</th><th>Damage</th><th>Reach</th><th>Tags</th><th>Notes</th>
</tr></thead>
<tbody id="m2"></tbody>
</table>
</div>
</details>

<details class="card p-5">
<summary class="text-3xl text-white cursor-pointer">Heavy Melee Weapons</summary>
<div class="table-wrap mt-4">
<table class="w-full text-sm">
<thead><tr>
<th>Weapon</th><th>Damage</th><th>Reach</th><th>Tags</th><th>Notes</th>
</tr></thead>
<tbody id="m3"></tbody>
</table>
</div>
</details>

<!-- RANGED -->
<details class="card p-5">
<summary class="text-3xl text-white cursor-pointer">Light Ranged Weapons</summary>
<div class="table-wrap mt-4">
<table class="w-full text-sm">
<thead><tr>
<th>Weapon</th><th>Damage</th><th>Range</th><th>Ammo</th><th>Notes</th>
</tr></thead>
<tbody id="r1"></tbody>
</table>
</div>
</details>

<details class="card p-5">
<summary class="text-3xl text-white cursor-pointer">Heavy Ranged Weapons</summary>
<div class="table-wrap mt-4">
<table class="w-full text-sm">
<thead><tr>
<th>Weapon</th><th>Damage</th><th>Range</th><th>Ammo</th><th>Notes</th>
</tr></thead>
<tbody id="r2"></tbody>
</table>
</div>
</details>

<!-- FIREARMS -->
<details class="card p-5">
<summary class="text-3xl text-white cursor-pointer">Light Firearms</summary>
<div class="table-wrap mt-4">
<table class="w-full text-sm">
<thead><tr>
<th>Weapon</th><th>Damage</th><th>Range</th><th>Ammo</th><th>Notes</th>
</tr></thead>
<tbody id="f1"></tbody>
</table>
</div>
</details>

<details class="card p-5">
<summary class="text-3xl text-white cursor-pointer">Heavy Firearms</summary>
<div class="table-wrap mt-4">
<table class="w-full text-sm">
<thead><tr>
<th>Weapon</th><th>Damage</th><th>Range</th><th>Ammo</th><th>Notes</th>
</tr></thead>
<tbody id="f2"></tbody>
</table>
</div>
</details>

<!-- ARMOR -->
<details class="card p-5">
<summary class="text-3xl text-white cursor-pointer">Armor</summary>
<div class="table-wrap mt-4">
<table class="w-full text-sm">
<thead><tr>
<th>Armor</th><th>Rating</th><th>Penalty</th><th>Tags</th><th>Notes</th>
</tr></thead>
<tbody id="armor"></tbody>
</table>
</div>
</details>

<details class="card p-5">
<summary class="text-3xl text-white cursor-pointer">Shields</summary>
<div class="table-wrap mt-4">
<table class="w-full text-sm">
<thead><tr>
<th>Shield</th><th>Bonus</th><th>Penalty</th><th>Tags</th><th>Notes</th>
</tr></thead>
<tbody id="shields"></tbody>
</table>
</div>
</details>

</section>

<!-- ================= CRAFTING ================= -->

<section id="crafting" class="space-y-16">
<h1 class="text-5xl text-white">Crafting</h1>

<details open class="card p-5">
<summary class="text-3xl text-white cursor-pointer">Crafting Recipes</summary>

<label class="block my-4">
Filter Tier:
<select id="tierFilter" onchange="filterCrafting()" class="bg-slate-800 p-2 rounded">
<option value="all">All</option>
<option>Trivial</option>
<option>Simple</option>
<option>Standard</option>
<option>Difficult</option>
<option>Complex</option>
</select>
</label>

<div class="table-wrap">
<table class="w-full text-sm">
<thead><tr>
<th>Name</th><th>Tier</th><th>Category</th><th>Components</th><th>Effect</th>
</tr></thead>
<tbody id="crafting-recipes"></tbody>
</table>
</div>
</details>

<details class="card p-5">
<summary class="text-3xl text-white cursor-pointer">Crafting Components</summary>
<div class="table-wrap mt-4">
<table class="w-full text-sm">
<thead><tr>
<th>Component</th><th>Category</th><th>Tier</th><th>Notes</th>
</tr></thead>
<tbody id="craft-components"></tbody>
</table>
</div>
</details>
</section>

</main>

<!-- ================= JS ================= -->

<script>
async function loadEquipment() {
    const res = await fetch("equipment.json");
    const data = await res.json();

    const fill = (id, rows) => {
        const body = document.getElementById(id);
        if (!body || !rows) return;
        body.innerHTML = rows.map(r => `
<tr class="border-b border-slate-800">
<td class="font-bold text-white p-3">${r.Name}</td>
<td class="p-3">${r.Damage ?? r.Rating ?? r.Bonus ?? "-"}</td>
<td class="p-3">${r.Reach ?? r.Range ?? "-"}</td>
<td class="p-3">${r.Ammo ?? r.Tags ?? "-"}</td>
<td class="p-3 text-slate-400">${r.Description ?? ""}</td>
</tr>`).join("");
    };

    fill("m1", data.weapons.m1);
    fill("m2", data.weapons.m2);
    fill("m3", data.weapons.m3);
    fill("r1", data.weapons.r1);
    fill("r2", data.weapons.r2);
    fill("f1", data.weapons.f1);
    fill("f2", data.weapons.f2);
    fill("armor", [...data.armor.a1, ...data.armor.a2, ...data.armor.a3]);
    fill("shields", data.shields.ss);
}

async function loadCrafting() {
    const res = await fetch("crafting.json");
    const data = await res.json();

    document.getElementById("crafting-recipes").innerHTML =
        data.recipes.map(r => `
<tr data-tier="${r.tier}">
<td class="font-bold text-white p-3">${r.name}</td>
<td class="p-3">${r.tier}</td>
<td class="p-3">${r.category}</td>
<td class="p-3">${r.components.join("<br>")}</td>
<td class="p-3 text-slate-400">${r.effect}</td>
</tr>`).join("");

    document.getElementById("craft-components").innerHTML =
        data.components.map(c => `
<tr>
<td class="font-bold text-white p-3">${c.name}</td>
<td class="p-3">${c.category}</td>
<td class="p-3">${c.tier}</td>
<td class="p-3 text-slate-400">${c.notes ?? ""}</td>
</tr>`).join("");
}

function filterCrafting() {
    const filter = document.getElementById("tierFilter").value;
    document.querySelectorAll("#crafting-recipes tr").forEach(row => {
        row.style.display = (filter === "all" || row.dataset.tier === filter) ? "" : "none";
    });
}

document.addEventListener("DOMContentLoaded", () => {
    loadEquipment();
    loadCrafting();
});
</script>

</body>
</html>
